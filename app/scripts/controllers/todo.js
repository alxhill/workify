// Generated by CoffeeScript 1.6.3
"use strict";
angular.module('workify').controller('TodoCtrl', function($scope, Todos) {
  chrome.runtime.onMessage.addListener(function(msg) {
    if (msg === "updateList") {
      return $scope.$apply(function() {
        return Todos.get($scope).then(function(todolist) {
          return $scope.todos = todolist;
        });
      });
    }
  });
  $scope.todos = Todos.get($scope);
  $scope.update = function() {
    return Todos.update();
  };
  $scope.addTodo = function(title, level) {
    Todos.add({
      title: title,
      done: false,
      energy: level
    });
    return $scope.input = {};
  };
  $scope.remove = function(id) {
    return Todos.remove(id);
  };
});
